#!/bin/bash

# Source global definitions
if [ -f /etc/bashrc ]; then
    . /etc/bashrc
fi

source /usr/share/git-core/contrib/completion/git-prompt.sh
export GIT_PS1_SHOWDIRTYSTATE=true
export GIT_PS1_SHOWUNTRACKEDFILES=true

export PS1='\e[0;34m\w\e[0m$(__git_ps1 " \e[0;32m(%s)\e[0m")\n\$ '

youtube_dl_to_mpv() {
    if [ -z "$1" ]
    then
        echo 'mpvurl: error: missing url argument'
    else
        mpv --really-quiet $(youtube-dl -g "$1")
    fi
}

svtplay_dl_to_mpv() {
    if [ -z "$1" ]
    then
        echo 'mpvsvt: error: missing url argument'
    else
        mpv --really-quiet $(svtplay-dl -g "$1")
    fi
}

aspell_pipe_string() {
    printf $1 | aspell -a
}

alias ls='ls -h --color=auto --group-directories-first'
alias grep='grep --color=auto'
alias cp='cp -i -v'
alias mv='mv -i -v'
alias rm='rm -i -v'
alias ydl='youtube-dl --recode-video webm --prefer-free-formats -o "~/multimedia/videos/web/%(title)s.%(ext)s"'
alias mpvurl=youtube_dl_to_mpv
alias mpvsvt=svtplay_dl_to_mpv
alias spellcheck=aspell_pipe_string

if [ -e /usr/bin/vimx ]
then
    export EDITOR=vimx
    alias vim=vimx
else
    export EDITOR=vim
fi
export VISUAL=$EDITOR

source /etc/bash_completion.d/password-store
